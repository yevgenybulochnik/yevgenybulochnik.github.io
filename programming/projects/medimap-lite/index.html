<!DOCTYPE html><html lang="en"><head><meta name="generator" content="React Static"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"/><link rel="preload" as="script" href="https://yevgenybulochnik.com/templates/styles.e97411ea.js"/><link rel="preload" as="script" href="https://yevgenybulochnik.com/templates/__react_static_root__/src/containers/Post.2fc16869.js"/><link rel="preload" as="script" href="https://yevgenybulochnik.com/templates/vendors~main.b14f7f9e.js"/><link rel="preload" as="script" href="https://yevgenybulochnik.com/main.1b42d333.js"/><link rel="preload" as="style" href="https://yevgenybulochnik.com/styles.73d3790a.css"/><link rel="stylesheet" href="https://yevgenybulochnik.com/styles.73d3790a.css"/></head><body><div id="root"><div style="outline:none" tabindex="-1"><div class="page-container"><div class="bp3-navbar bp3-fixed-top nav"><div class="bp3-navbar-group bp3-align-left"><div class="bp3-navbar-heading"><strong>Yevgeny Bulochnik</strong></div><div class="bp3-navbar-divider"></div></div><div class="bp3-navbar-group bp3-align-left nav-tabs-desktop"><a href="https://yevgenybulochnik.com/"><button type="button" class="bp3-button bp3-minimal"><span icon="home" class="bp3-icon bp3-icon-home"><svg data-icon="home" width="16" height="16" viewBox="0 0 16 16"><desc>home</desc><path d="M2 10v5c0 .55.45 1 1 1h3v-5h4v5h3c.55 0 1-.45 1-1v-5L8 4l-6 6zm13.71-2.71L14 5.59V2c0-.55-.45-1-1-1s-1 .45-1 1v1.59L8.71.29C8.53.11 8.28 0 8 0s-.53.11-.71.29l-7 7a1.003 1.003 0 001.42 1.42L8 2.41l6.29 6.29c.18.19.43.3.71.3a1.003 1.003 0 00.71-1.71z" fill-rule="evenodd"></path></svg></span><span class="bp3-button-text">Home</span></button></a><a href="https://yevgenybulochnik.com/about"><button type="button" class="bp3-button bp3-minimal"><span icon="person" class="bp3-icon bp3-icon-person"><svg data-icon="person" width="16" height="16" viewBox="0 0 16 16"><desc>person</desc><path d="M15.68 14.32c-.46-1.05-2.68-1.75-4.16-2.4-1.48-.65-1.28-1.05-1.33-1.59-.01-.07-.01-.15-.01-.23.51-.45.92-1.07 1.19-1.78 0 0 .01-.04.02-.05.06-.15.11-.32.15-.48.34-.07.54-.44.61-.78.08-.14.23-.48.2-.87-.05-.5-.25-.73-.47-.82v-.09c0-.63-.06-1.55-.17-2.15A3.671 3.671 0 0010.32.72C9.68.25 8.79-.01 8-.01c-.79 0-1.68.25-2.31.73-.61.47-1.06 1.13-1.28 1.86-.05.17-.09.33-.11.5-.12.6-.17 1.51-.17 2.15v.08c-.24.09-.45.32-.5.83-.03.38.13.72.2.86.08.35.28.72.63.78.04.17.09.33.15.49 0 .01.01.02.01.03l.01.01c.27.72.7 1.35 1.22 1.8 0 .07-.01.14-.01.21-.05.54.1.94-1.37 1.59-1.48.65-3.7 1.35-4.16 2.4-.46 1.05-.27 1.67-.27 1.67h15.92c-.01.01.18-.61-.28-1.66z" fill-rule="evenodd"></path></svg></span><span class="bp3-button-text">About</span></button></a><a href="https://yevgenybulochnik.com/programming"><button type="button" class="bp3-button bp3-minimal"><span icon="applications" class="bp3-icon bp3-icon-applications"><svg data-icon="applications" width="16" height="16" viewBox="0 0 16 16"><desc>applications</desc><path d="M3.5 11h2c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-2c-.28 0-.5.22-.5.5s.22.5.5.5zm0-2h5c.28 0 .5-.22.5-.5S8.78 8 8.5 8h-5c-.28 0-.5.22-.5.5s.22.5.5.5zM11 4H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zm-1 10H2V7h8v7zm5-14H5c-.55 0-1 .45-1 1v2h2V2h8v7h-1v2h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1zM3.5 13h3c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-3c-.28 0-.5.22-.5.5s.22.5.5.5z" fill-rule="evenodd"></path></svg></span><span class="bp3-button-text">Programming</span></button></a></div><div class="bp3-navbar-group bp3-align-right nav-tabs-mobile"><span class="bp3-popover-wrapper"><span class="bp3-popover-target"><button type="button" class="bp3-button nav-button-mobile"><span class="bp3-button-text">Menu</span></button></span></span></div></div><div class="content"><div style="outline:none" tabindex="-1"><div class="post"><h1 id="medimap-lite">Medimap Lite</h1>
<h3 id="demo"><a href="https://yevgenybulochnik.com/medimap-lite">Demo</a></h3>
<p>This is an interesting project born out of a data set my brother showed me. The <a href="https://www.cms.gov/Research-Statistics-Data-and-Systems/Statistics-Trends-and-Reports/Medicare-Provider-Charge-Data/Physician-and-Other-Supplier2017">data set</a>, published by CMS, shows annualized charges and payments per NPI for HCPCS codes billed by various physicians and facilities. It has a mix of what appears to be facility fees and physician professional fees, with the most recent data coming from 2017.</p>
<p>My brother had a great idea, what if it was possible to geomap this dataset. How interesting would it be to see payment and reimbursement differences by geographical locations, or at the very least explore the data set with more an emphasis on location. Could this data be used to increase pricing transparency? How much do charges differ for the same HCPCS codes based on provider location? How much of a difference is there between what providers/facilities charge vs how much medicare reimburses?</p>
<h4 id="data-munging-and-wrangling">Data Munging and Wrangling</h4>
<hr/>
<p>This CMS dataset was one of the larger sets I have worked with. It was pleasantly surprising how easily (given enough ram) it was to manipulate using python and <a href="https://pandas.pydata.org/docs/">pandas</a>. Immediately, a few concerns came up. First many of the addresses assigned to NPI numbers were &quot;programmatically&quot; unique, but in reality were the same addresses. Some had an additional unit number or secondary street address for example. It would be unrealistic to geomap all 10 million records individually. A more sound approach would be to identify all unique addresses, geo tag those, then reassign them back so specific providers/facilities. A similar approach was used to map HCPCS codes to specific charges.</p>
<p>As I continued to explore the dataset, some more caveats became obvious. First, it appeared the charges are always associated with only one location. The location tied to the providers or facilities NPI number. If a provider, for example, worked at multiple locations the charges would all fall under whatever location that providers NPI number was registered at. Another concern, was what appeared to be a mix of professional fees and facility fees for some charges. In some cases it was easy to see the facility vs professional fee charge, in others it seemed like both were rolled into one.</p>
<p>In the end, I was able to parse the entire dataset and split out records based on states. I developed a custom python module to help me accomplish this.</p>
<h4 id="fun-with-geotagging">Fun with Geotagging</h4>
<hr/>
<p>The next setup was to figure out how to actually geotag all these locations. Most would reach for google maps geolocation api, but I found <a href="https://geocod.io">geocodio</a> to be more hassle free. Their platform offered a free account (without providing credit card info) and allowed 2500 free geotags per day. To keep costs to a minimal, my custom python module accounts for this daily limit. For the state of oregon, there are over 4000 locations. The non-lite version of this project uses a cron job to geotag daily, keeping this limit in mind.</p>
<h4 id="the-map">The Map</h4>
<hr/>
<p>The actual map was built using <a href="https://leafletjs.com/">leafletjs</a> and more specifically a React wrapper around leaflet called <a href="https://react-leaflet.js.org/">React-Leaflet</a>. This coupled with <a href="https://blueprintjs.com/docs/#select/suggest">blueprintjs</a> suggest component to create a searchable drop down for HCPCS codes. I&#x27;m a huge fan of <a href="https://react-table.tanstack.com/docs/overview">React-Table</a> and its hook based approach, so it drives all the tables in the application.</p>
<h4 id="the-bundle">The Bundle</h4>
<hr/>
<p>The final js bundle for this application includes a fairly large dataset embedded in it. This was done deliberately as a way to host the project on github pages without the need to host an api as well. As this is the &quot;lite&quot; version of this project, it only includes the state of Oregon and the most frequently charged HCPCS codes. Surprisingly, chrome can handle as much as 60k records simply stored in the browser. There are noticeable performance hits with this approach, specifically with the &quot;9921&quot; HCPCS codes.</p>
<h4 id="conclusions">Conclusions</h4>
<hr/>
<p>Overall, this was a very fun project to work on. Both the full version which includes a full api + frontend and this lite version. The dataset itself is very intriguing, especially when comparing charges vs medicare reimbursement rates. Its interesting to see the wide variation of charges for a given HCPCS code with the juxtaposition of a largely flat medicare reimbursement rate. It begs many questions around cost, cost transparency and reimbursement in general.</p></div></div></div><footer><div class="icon-tray"><button type="button" class="bp3-button bp3-minimal"><span class="bp3-button-text"><a href="https://github.com/yevgenybulochnik">Github</a></span></button><button type="button" class="bp3-button bp3-minimal"><span class="bp3-button-text"><a href="https://linkedin.com/in/yevgeny-eugene-bulochnik-b429a6155">LinkedIn</a></span></button><button type="button" class="bp3-button bp3-minimal"><span class="bp3-button-text"><a href="https://yevgenybulochnik.com/contact">Contact</a></span></button></div></footer></div></div></div><script type="text/javascript">window.__routeInfo = JSON.parse("{\"template\":\"__react_static_root__/src/containers/Post\",\"sharedHashesByProp\":{},\"data\":{\"title\":\"Medimap Lite\",\"slug\":\"medimap-lite\",\"desc\":\"Lite version of a fullstack project to visualize medicare costing data for various HCPCS Codes. Data for Oregon is embedded in the javascript bundle.\",\"published\":\"10-27-2020\",\"tags\":[\"React\",\"Python\",\"Leafletjs\"],\"contents\":\"<h1 id=\\\"medimap-lite\\\">Medimap Lite</h1>\\n<h3 id=\\\"demo\\\"><a href=\\\"https://yevgenybulochnik.com/medimap-lite\\\">Demo</a></h3>\\n<p>This is an interesting project born out of a data set my brother showed me. The <a href=\\\"https://www.cms.gov/Research-Statistics-Data-and-Systems/Statistics-Trends-and-Reports/Medicare-Provider-Charge-Data/Physician-and-Other-Supplier2017\\\">data set</a>, published by CMS, shows annualized charges and payments per NPI for HCPCS codes billed by various physicians and facilities. It has a mix of what appears to be facility fees and physician professional fees, with the most recent data coming from 2017.</p>\\n<p>My brother had a great idea, what if it was possible to geomap this dataset. How interesting would it be to see payment and reimbursement differences by geographical locations, or at the very least explore the data set with more an emphasis on location. Could this data be used to increase pricing transparency? How much do charges differ for the same HCPCS codes based on provider location? How much of a difference is there between what providers/facilities charge vs how much medicare reimburses?</p>\\n<h4 id=\\\"data-munging-and-wrangling\\\">Data Munging and Wrangling</h4>\\n<hr>\\n<p>This CMS dataset was one of the larger sets I have worked with. It was pleasantly surprising how easily (given enough ram) it was to manipulate using python and <a href=\\\"https://pandas.pydata.org/docs/\\\">pandas</a>. Immediately, a few concerns came up. First many of the addresses assigned to NPI numbers were &quot;programmatically&quot; unique, but in reality were the same addresses. Some had an additional unit number or secondary street address for example. It would be unrealistic to geomap all 10 million records individually. A more sound approach would be to identify all unique addresses, geo tag those, then reassign them back so specific providers/facilities. A similar approach was used to map HCPCS codes to specific charges.</p>\\n<p>As I continued to explore the dataset, some more caveats became obvious. First, it appeared the charges are always associated with only one location. The location tied to the providers or facilities NPI number. If a provider, for example, worked at multiple locations the charges would all fall under whatever location that providers NPI number was registered at. Another concern, was what appeared to be a mix of professional fees and facility fees for some charges. In some cases it was easy to see the facility vs professional fee charge, in others it seemed like both were rolled into one.</p>\\n<p>In the end, I was able to parse the entire dataset and split out records based on states. I developed a custom python module to help me accomplish this.</p>\\n<h4 id=\\\"fun-with-geotagging\\\">Fun with Geotagging</h4>\\n<hr>\\n<p>The next setup was to figure out how to actually geotag all these locations. Most would reach for google maps geolocation api, but I found <a href=\\\"https://geocod.io\\\">geocodio</a> to be more hassle free. Their platform offered a free account (without providing credit card info) and allowed 2500 free geotags per day. To keep costs to a minimal, my custom python module accounts for this daily limit. For the state of oregon, there are over 4000 locations. The non-lite version of this project uses a cron job to geotag daily, keeping this limit in mind.</p>\\n<h4 id=\\\"the-map\\\">The Map</h4>\\n<hr>\\n<p>The actual map was built using <a href=\\\"https://leafletjs.com/\\\">leafletjs</a> and more specifically a React wrapper around leaflet called <a href=\\\"https://react-leaflet.js.org/\\\">React-Leaflet</a>. This coupled with <a href=\\\"https://blueprintjs.com/docs/#select/suggest\\\">blueprintjs</a> suggest component to create a searchable drop down for HCPCS codes. I&#39;m a huge fan of <a href=\\\"https://react-table.tanstack.com/docs/overview\\\">React-Table</a> and its hook based approach, so it drives all the tables in the application.</p>\\n<h4 id=\\\"the-bundle\\\">The Bundle</h4>\\n<hr>\\n<p>The final js bundle for this application includes a fairly large dataset embedded in it. This was done deliberately as a way to host the project on github pages without the need to host an api as well. As this is the &quot;lite&quot; version of this project, it only includes the state of Oregon and the most frequently charged HCPCS codes. Surprisingly, chrome can handle as much as 60k records simply stored in the browser. There are noticeable performance hits with this approach, specifically with the &quot;9921&quot; HCPCS codes.</p>\\n<h4 id=\\\"conclusions\\\">Conclusions</h4>\\n<hr>\\n<p>Overall, this was a very fun project to work on. Both the full version which includes a full api + frontend and this lite version. The dataset itself is very intriguing, especially when comparing charges vs medicare reimbursement rates. Its interesting to see the wide variation of charges for a given HCPCS code with the juxtaposition of a largely flat medicare reimbursement rate. It begs many questions around cost, cost transparency and reimbursement in general.</p>\\n\"},\"path\":\"programming/projects/medimap-lite\",\"sharedData\":{},\"siteData\":{}}");</script><script defer="" type="text/javascript" src="https://yevgenybulochnik.com/templates/styles.e97411ea.js"></script><script defer="" type="text/javascript" src="https://yevgenybulochnik.com/templates/__react_static_root__/src/containers/Post.2fc16869.js"></script><script defer="" type="text/javascript" src="https://yevgenybulochnik.com/templates/vendors~main.b14f7f9e.js"></script><script defer="" type="text/javascript" src="https://yevgenybulochnik.com/main.1b42d333.js"></script></body></html>